<!doctype html><html lang=en><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><style>:root{--accent-color:#FF4D4D}</style><title>&lt;ol start="2">
&lt;li>Luồng I/O trong Java&lt;/li>
&lt;/ol>
</title><meta name=description content="Trong project này chúng ta sẽ cùng nhau làm quen với khái niệm luồng (streams) và file.
Khái niệm luồng (stream): Một stream có thể được định nghĩa như là một …"><meta name=keywords content='blog,gokarna,hugo'><meta property="og:url" content="http://localhost:1313/posts/2-luong-nhap-xuat-trong-java/"><meta property="og:type" content="website"><meta property="og:title" content="
Luồng I/O trong Java

"><meta property="og:description" content="Trong project này chúng ta sẽ cùng nhau làm quen với khái niệm luồng (streams) và file.
Khái niệm luồng (stream): Một stream có thể được định nghĩa như là một …"><meta property="og:image" content="http://localhost:1313/images/lorem-ipsum/quick-fox.png"><meta property="og:image:secure_url" content="http://localhost:1313/images/lorem-ipsum/quick-fox.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="
Luồng I/O trong Java

"><meta name=twitter:description content="Trong project này chúng ta sẽ cùng nhau làm quen với khái niệm luồng (streams) và file.
Khái niệm luồng (stream): Một stream có thể được định nghĩa như là một …"><meta property="twitter:domain" content="http://localhost:1313/posts/2-luong-nhap-xuat-trong-java/"><meta property="twitter:url" content="http://localhost:1313/posts/2-luong-nhap-xuat-trong-java/"><meta name=twitter:image content="http://localhost:1313/images/lorem-ipsum/quick-fox.png"><link rel=canonical href=http://localhost:1313/posts/2-luong-nhap-xuat-trong-java/><link rel=stylesheet type=text/css href=/css/normalize.min.css media=print><link rel=stylesheet type=text/css href=/css/main.min.css><link id=dark-theme rel=stylesheet href=/css/dark.min.css><script src=/js/bundle.min.dce06bccdb48a1e609abd5ddf48171ca09316a6284027f6cc83ac12473b2ea0e.js integrity="sha256-3OBrzNtIoeYJq9Xd9IFxygkxamKEAn9syDrBJHOy6g4="></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css integrity=sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js integrity=sha384-X/XCfMm41VSsqRNQgDerQczD69XqmjOOOwYQvr/uuC+j4OPoNhVgjdGFwhvN02Ja crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1})})</script></head><body><script>setThemeByUserPref()</script><header class=header><nav class=header-nav><div class=avatar><a href=http://localhost:1313/><img src=/images/khang.jpg alt=avatar></a></div><div class=nav-title><a class=nav-brand href=http://localhost:1313/>Hồ Duy Khang</a></div><div class=nav-links><div class=nav-link><a href=http://localhost:1313/ aria-label><span data-feather=home></span> Trang chủ</a></div><div class=nav-link><a href=http://localhost:1313/posts/ aria-label><span data-feather=book></span> Bài viết</a></div><div class=nav-link><a href=https://github.com/duyKhang0448 aria-label=github><span data-feather=github></span></a></div><span class=nav-icons-divider></span><div class="nav-link dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target">theme</span>
<a aria-hidden=true role=switch><span class=theme-toggle-icon data-feather=moon></span></a></div><div class=nav-link id=hamburger-menu-toggle><span class="sr-only hamburger-menu-toggle-screen-reader-target">menu</span>
<a aria-checked=false aria-labelledby=hamburger-menu-toggle id=hamburger-menu-toggle-target role=switch><span data-feather=menu></span></a></div><ul class="nav-hamburger-list visibility-hidden"><li class=nav-item><a href=http://localhost:1313/><span data-feather=home></span> Trang chủ</a></li><li class=nav-item><a href=http://localhost:1313/posts/><span data-feather=book></span> Bài viết</a></li><li class=nav-item><a href=https://github.com/duyKhang0448><span data-feather=github></span></a></li><li class="nav-item dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target">theme</span>
<a role=switch><span class=theme-toggle-icon data-feather=moon></span></a></li></ul></div></nav></header><main id=content><div class="post container"><div class=post-header-section><h1><ol start=2><li>Luồng I/O trong Java</li></ol></h1><small role=doc-subtitle></small><p class=post-date>December 20, 2023</p><ul class=post-tags></ul></div><div class=post-content><p>Trong project này chúng ta sẽ cùng nhau làm quen với khái niệm luồng (streams) và file.</p><ul><li><strong>Khái niệm luồng (stream)</strong>: Một stream có thể được định nghĩa như là một dãy liên tục dữ liệu. Java định nghĩa 2 kiểu luồng: byte và ký tự (phiên bản gốc chỉ định nghĩa kiểu luồng byte, và sau đó luồng ký tự được thêm vào trong các phiên bản về sau). Luồng ký tự được thiết kế hỗ trợ việc nhập xuất dữ liệu kiểu ký tự (Unicode). Trong một vài trường hợp luồng ký tự sử dụng hiệu quả hơn luồng byte, nhưng ở mức hệ thống thì tất cả những xuất nhập đều phải qui về byte. Luồng ký tự hỗ trợ hiệu quả chỉ đối với việc quản lý, xử lý các ký tự.</li></ul><h2 id=luồng-byte>Luồng Byte:</h2><ul><li>Các luồng byte được định nghĩa dùng hai lớp phân cấp, mức trên cùng là hai lớp trừu tượng <strong>InputStream</strong> và <strong>OutputStream</strong>, là các lớp cha của các lớp xuất nhập kiểu byte. InputStream định nghĩa những đặc điểm chung cho những luồng nhập byte. OutputStream mô tả cách xử lý của các luồng xuất byte.</li></ul><p><img src=/images/TdlBT3Z.png alt="Alt text"></p><p>Nhìn trong hình, bạn có thể hiểu được quan hệ giữa các class trong IO với nhau. Chúng ta cần quan tâm nhiều đến <strong>FileInputStream</strong> (FileOutputStream) và <strong>BufferedInputStream</strong> (BufferedOutputStream) khi làm việc xuất nhập với file.</p><ul><li><strong>FileInputStream</strong>: Làm việc với file, Đọc từng byte dữ liệu bằng phương thức read(), khi kết thúc nó trả về giá trị -1. Cách này có tốc độ tương đối chậm. Đọc theo từng byte:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#75715e>//Dữ liệu đọc được lưu vào mảng byteBuf.</span>
</span></span><span style=display:flex><span><span style=color:#75715e>//byteRead là số byte đọc được</span>
</span></span><span style=display:flex><span>FileInputStream in <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> FileInputStream(<span style=color:#e6db74>&#34;data.txt&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> byteBuf <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>4096<span style=color:#f92672>]</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> ((byteRead <span style=color:#f92672>=</span> in.<span style=color:#a6e22e>read</span>()) <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span>1) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0; i <span style=color:#f92672>&lt;=</span> byteRead; i<span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>    System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(byteBuf<span style=color:#f92672>[</span>i<span style=color:#f92672>]</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div><h2 id=tuy-nhiên-điều-này-dường-như-không-được-khuyến-khích-để-tăng-tốc-độ-bằng-việc-sử-dụng-bộ-đệm-hãy-sử-dụng-bufferedinputstream>Tuy nhiên điều này dường như không được khuyến khích. Để tăng tốc độ bằng việc sử dụng bộ đệm, hãy sử dụng [BufferedInputStream].</h2><ul><li><strong>BufferedInputStream</strong>: Java sử dụng cơ chế nhập/xuất có lập vùng đệm để tạm thời lập cache dữ liệu vào/ra của một dòng. Nó giúp chương trình đọc/ghi lượng dữ liệu nhỏ không ảnh hưởng lớn đến hiệu năng chung của hệ thống. Trong khi thực hiện vào có vùng đệm, một số lượng byte lớn được đọc tại một thời điểm, và lưu trữ trong một vùng đệm nhập. Khi chương trình đọc dòng nhập thì thay vì ra dòng vào để đọc nó đọc từ vùng đệm nhập. Tiến trình lập vùng đệm ra cũng thực hiện tương tự. khi dữ liệu được một chương trình ghi ra dòng ra, dữ liệu ra được lưu trữ trong một vùng đệm ra. Dữ liệu được lưu trữ đến khi vùng đệm đầy hoặc các dòng tra thực hiện xả trống (flush). Cuối cùng liệu ra trong vùng đệm được chuyển đến dòng ra.</li></ul><p>Lớp này tự động tạo ra và duy trì vùng đệm để hỗ trợ thao tác vào. Nhờ đó chương trình có thể đọc dữ liệu từ dòng từng byte một mà không ảnh hưởng đến tốc độ thực hiện của hệ thống. Bởi lớp <strong>BufferedInputStream</strong> là một bộ lọc, nên có thể áp dụng nó cho một số đối tượng nhất định của lớp InputStream (không nhất thiết chỉ làm việc với file) và cũng có thể phối hợp với các tập tin đầu vào khác. BufferedInputStream được hiểu một phương thức trung gian, tham số truyền vào của nó là một dòng inputstream (ví dụ FileInputStream). Khác với FileInputStream có tham số truyền vào 1 file.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>BufferedInputStream in <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> BufferedInputStream(<span style=color:#66d9ef>new</span> FileInputStream(<span style=color:#e6db74>&#34;data.txt&#34;</span>));
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> ((byteRead <span style=color:#f92672>=</span> in.<span style=color:#a6e22e>read</span>()) <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span>1) {
</span></span><span style=display:flex><span>  System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(byteRead);
</span></span><span style=display:flex><span>}</span></span></code></pre></div><p>Đọc theo mảng byte:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>BufferedInputStream in <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> BufferedInputStream(<span style=color:#66d9ef>new</span> FileInputStream(<span style=color:#e6db74>&#34;data.txt&#34;</span>));
</span></span><span style=display:flex><span><span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> byteBuf <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>4096<span style=color:#f92672>]</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> ((byteRead <span style=color:#f92672>=</span> in.<span style=color:#a6e22e>read</span>()) <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span>1) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0; i <span style=color:#f92672>&lt;=</span> byteRead; i<span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>    System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(byteBuf<span style=color:#f92672>[</span>i<span style=color:#f92672>]</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div><ul><li><p><strong>Các phương thức của lớp InputStream</strong></p><table><thead><tr><th>Tên phương thức</th><th>Mô tả</th></tr></thead><tbody><tr><td>read()</td><td>Đọc các byte dữ liệu từ một dòng. Nếu như không có byte dữ liệu nào, nó phải chờ. Khi một phương thức phải chờ, các luồng đang thực hiện phải tạm dừng cho đến khi có dữ liệu.</td></tr><tr><td>read (byte [])</td><td>Trả về số byte đọc được hay ‘-1’ nếu như đã đọc đến cuối dòng. Nó gây ra ngoại lệ IOException nếu có lỗi xảy ra.</td></tr><tr><td>read (byte [], int, int)</td><td>Nó cũng đọc vào một mảng byte. Nó trả về số byte thực sự đọc được cho đến khi kết thúc dòng. Nó gây ra ngoại lệ IOException nếu lỗi xảy ra.</td></tr><tr><td>available()</td><td>Phương pháp này trả về số lượng byte có thể đọc được mà không pahỉ chờ. Nó trả về số byte hiện tại có trong dòng. Nó không phải là phương thức tin cậy để thực hiện tiến trình xử lý đầu vào.</td></tr><tr><td>close()</td><td>Phương thức này đóng dòng. Nó dùng để giải phóng mọi tài nguyên dòng đã sử dụng. Luôn luôn đóng dòng để chắc chắn rằng dòng xử lý được kết thúc. Nó gây ra ngoại lệ IOException nếu lỗi xảy ra.</td></tr><tr><td>mark()</td><td>Đánh dấu vị trí hiện tại của dòng.</td></tr><tr><td>markSupported()</td><td>Trả về giá trị boolean chỉ ra rằng dòng có hỗ trợ các khả năng mark và reset hay không. Nó trả về True nếu dòng hỗ trợ ngược lại trả về False.</td></tr><tr><td>reset()</td><td>Phương thức này định vị lại dòng theo vị trí được đánh lần cuối cùng. Nó gây ra ngoại lệ IOException nếu lỗi xảy ra.</td></tr><tr><td>skip()</td><td>Phương thức này bỏ qua ‘n’ byte dòng vào. &ldquo;-n&rdquo; chỉ định số byte được bỏ qua. Nó gây ra ngoại lệ IOException nếu lỗi xảy ra. Phương thức này sử dụng để di chuyển tới vị trí đặc biệt bên trong dòng vào.</td></tr></tbody></table></li><li><p><strong>Các phương thức của lớp OutputStream</strong></p><table><thead><tr><th>Tên phương thức</th><th>Mô tả</th></tr></thead><tbody><tr><td>write(int)</td><td>Phương thức này ghi một byte</td></tr><tr><td>write(byte[])</td><td>Phương thức này phong toả cho đến khi một byte được ghi. dòng phải chờ cho đến khi tác vụ ghi hoàn tất. Nó gây ra ngoại lệ IOException nếu lỗi xảy ra.</td></tr><tr><td>write(byte[],int,int)</td><td>Phương thức này ghi mảng các byte. Lớp OutputStream định nghĩa ba dạng khác nhau của phương thức để có thể ghi một byte riêng lẻ, một mảng các byte, hay một đoạn của một mảng byte.</td></tr><tr><td>flush()</td><td>Phương thức này xả sạch dòng.Đệm dữ liệu được ghi ra dòng. Nó kích hoạt IOException nếu lỗi xảy ra.</td></tr><tr><td>close()</td><td>Phương thức đóng dòng.Nó được dùng để giải phóng mọi tài nguyên gắn với dòng. Nó kích hoạt IOException nếu lỗi xảy ra.</td></tr></tbody></table></li></ul><h2 id=luồng-ký-tự>Luồng ký tự:</h2><p>Trong nhiều trường hợp luồng byte không phải là cách tốt nhất để quản lý nhập xuất dữ liệu ký tự. Trong lập trình Java có kiểu luồng ký tự phục vụ riêng cho việc nhập xuất dữ liệu trên luồng. Mức trên cùng là 2 lớp trừu tường Reader và Writer. Các lớp dẫn xuất từ Reader và Writer hỗ trợ thao tác trên các luồng ký tự Unicode.</p><p><img src=/images/2Ltj8wI.png alt="Alt text"></p><p>Để thao tác với file, bạn cần quan tâm đến các class FileReader và BufferedReader Ví dụ chỉ sử dụng FileReader</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#75715e>//Đọc từng ký tự một</span>
</span></span><span style=display:flex><span>FileReader inputStream <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> FileReader(<span style=color:#e6db74>&#34;data.txt&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> c;
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> ((c <span style=color:#f92672>=</span> inputStream.<span style=color:#a6e22e>read</span>()) <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span>1) {
</span></span><span style=display:flex><span>  System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>print</span>((<span style=color:#66d9ef>char</span>)c);
</span></span><span style=display:flex><span>}</span></span></code></pre></div><p>Nếu sử dụng BufferedReader</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#75715e>//Có thể đọc theo từng dòng</span>
</span></span><span style=display:flex><span>FileReader fin <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> FileReader(<span style=color:#e6db74>&#34;data.txt&#34;</span>);
</span></span><span style=display:flex><span>BufferedReader in <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> BufferedReader(fin);
</span></span><span style=display:flex><span>String str;
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> ((str <span style=color:#f92672>=</span> in.<span style=color:#a6e22e>readLine</span>()) <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span>) {
</span></span><span style=display:flex><span>  System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(str);
</span></span><span style=display:flex><span>}</span></span></code></pre></div><p>Ví dụ đọc dữ liệu từ hệ thống (Console)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>BufferedReader br <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> BufferedReader(<span style=color:#66d9ef>new</span> InputStreamReader(System.<span style=color:#a6e22e>in</span>));
</span></span><span style=display:flex><span>System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Nhập chuỗi ký tự, kết thúc bằng dấu chấm .&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>do</span> {
</span></span><span style=display:flex><span>  c <span style=color:#f92672>=</span> (<span style=color:#66d9ef>char</span>) br.<span style=color:#a6e22e>read</span>();
</span></span><span style=display:flex><span>  System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(c);
</span></span><span style=display:flex><span>} <span style=color:#66d9ef>while</span> (c <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;.&#39;</span>);</span></span></code></pre></div><p>Ở đây, chúng ta không có cách nào xây dựng 1 lớp BufferedReader trực tiếp từ System.in vì thế nên cần chuyển nó thành luồng ký tự bằng cách dùng InputStreamReader để chuyển byte thành ký tự.</p><ul><li><p><strong>Các phương thức của lớp Reader</strong></p><table><thead><tr><th>Phương thức</th><th>Mô tả</th></tr></thead><tbody><tr><td>void close</td><td>Đóng luồng</td></tr><tr><td>void mark(int numChars)</td><td>Đánh dấu vị trí hiện tại trên luồng</td></tr><tr><td>int read()</td><td>Đọc một ký tự</td></tr><tr><td>int read(char buffer[])</td><td>đọc buffer.length ký tự và ghi vào buffer</td></tr><tr><td>abstract int read(char buffer[], int offset, int numChars)</td><td>Đọc numChars ký tự cho vào vùng đệm buffer tại vị trí buffer[offset]</td></tr><tr><td>boolean ready()</td><td>Kiểm tra xem luồng có đọc được không</td></tr><tr><td>void reset()</td><td>Dời con trỏ nhập đến vị trí đánh dấu trước đó</td></tr><tr><td>long skip(long numChars)</td><td>Bỏ qua numChars của luồng nhập</td></tr></tbody></table></li><li><p><strong>Các phương thức của lớp Writer</strong></p><table><thead><tr><th>Phương thức</th><th>Mô tả</th></tr></thead><tbody><tr><td>abstract void close()</td><td>Đóng luồng xuất</td></tr><tr><td>void flush()</td><td>Dọn dẹp luồng. (Xuất buffer ra)</td></tr><tr><td>void write(int ch)</td><td>Ghi một ký tự</td></tr><tr><td>void write(byte buffer[])</td><td>Ghi một mảng ký tự</td></tr><tr><td>void write(char buffer[], int offset, int numChars)</td><td>Ghi một phần của mảng ký tự</td></tr><tr><td>void write(String str)</td><td>Ghi một chuỗi</td></tr><tr><td>void write(String str, int offset, int numChars)</td><td>Ghi một phần của chuỗi ký tự</td></tr></tbody></table></li></ul><h2 id=đọc-và-ghi-đối-tượng-trong-java>Đọc và ghi đối tượng trong Java</h2><p>Trong Java, việc đọc và ghi một object do class ObjectOutputStream và ObjectInputStream đảm nhiệm. Đây là 2 lớp con của lớp java.io.OutputStream và java.io.InputStream. Để đọc ghi theo Object trong Java thì tại class Object đó ta cần đặt giao tiếp java.io.Serializable. Một ví dự đơn giản đọc ghi 1 Object MyStudent như sau:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ReadWriteObject</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args){
</span></span><span style=display:flex><span>        MyStudent myStudent <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> MyStudent(); <span style=color:#75715e>// tao doi tuong myStudent</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#75715e>//Ghi Object vao file</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> {   <span style=color:#75715e>// dat try cacth de tranh ngoai le khi tao va viet File</span>
</span></span><span style=display:flex><span>            FileOutputStream f <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> FileOutputStream(<span style=color:#e6db74>&#34;student.dat&#34;</span>); <span style=color:#75715e>// tao file f tro den student.dat</span>
</span></span><span style=display:flex><span>            ObjectOutputStream oStream <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ObjectOutputStream(f); <span style=color:#75715e>// dung de ghi theo Object vao file f</span>
</span></span><span style=display:flex><span>            oStream.<span style=color:#a6e22e>writeObject</span>(myStudent); <span style=color:#75715e>// ghi MyStudent theo kieu Object vao file</span>
</span></span><span style=display:flex><span>            oStream.<span style=color:#a6e22e>close</span>();
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> (IOException e) {
</span></span><span style=display:flex><span>            System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Error Write file&#34;</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#75715e>// doc Object tu file</span>
</span></span><span style=display:flex><span>        MyStudent ms <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> {   <span style=color:#75715e>// dat try cacth de tranh ngoai le khi tao va doc File</span>
</span></span><span style=display:flex><span>            FileInputStream f <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> FileInputStream(<span style=color:#e6db74>&#34;student.dat&#34;</span>); <span style=color:#75715e>// tao file f tro den student.dat</span>
</span></span><span style=display:flex><span>            ObjectInputStream inStream <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ObjectInputStream(f);  <span style=color:#75715e>// dung de doc theo Object vao file f</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>// dung inStream doc theo Object, ep kieu tra ve la MyStudent</span>
</span></span><span style=display:flex><span>            ms <span style=color:#f92672>=</span> (MyStudent) inStream.<span style=color:#a6e22e>readObject</span>();
</span></span><span style=display:flex><span>            inStream.<span style=color:#a6e22e>close</span>();
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> (ClassNotFoundException e) {
</span></span><span style=display:flex><span>            System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Class not found&#34;</span>);
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> (IOException e) {
</span></span><span style=display:flex><span>            System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Error Read file&#34;</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Xuat KQ</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;My name is &#34;</span> <span style=color:#f92672>+</span> ms.<span style=color:#a6e22e>name</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;. I am &#34;</span> <span style=color:#f92672>+</span> ms.<span style=color:#a6e22e>age</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; years old&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyStudent</span> <span style=color:#66d9ef>implements</span> Serializable{
</span></span><span style=display:flex><span>    String name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Nguyen Cong Thanh&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> age <span style=color:#f92672>=</span> 21;
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class=prev-next></div><svg id="btt-button" class="arrow-logo" height="1em" viewBox="0 0 384 512" onclick="scrollToTop()" title="Go to top"><path d="M177 159.7l136 136c9.4 9.4 9.4 24.6.0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9.0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9.0L7 329.7c-9.4-9.4-9.4-24.6.0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"/></svg>
<script>let backToTopButton=document.getElementById("btt-button");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?backToTopButton.style.display="block":backToTopButton.style.display="none"}function scrollToTop(){window.scrollTo(0,0)}</script></div></main><footer class=footer><span>&copy; 2023 Khang Hồ</span>
<span>Made with &#10084;&#65039; using <a target=_blank href=https://github.com/gokarna-theme/gokarna-hugo>Gokarna</a></span></footer></body></html>